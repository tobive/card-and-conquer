# Card & Conquer âš”ï¸

**An Asynchronous Faction-Based Collectible Card Game for Reddit**

Card & Conquer is a strategic card battler where players collect cards featuring stylized parodies of famous historical figures and battle for faction supremacy. Built natively for Reddit using Devvit, the game transforms Reddit posts into interactive battlefields where every card placement triggers instant combat resolution.

> **Play directly on Reddit** - No external websites, no downloads. Just click a post and start conquering.

---

## ğŸ® What is Card & Conquer?

Card & Conquer is a **faction warfare game** where players join one of two factionsâ€”**White** or **Black**â€”and compete in asynchronous battles to help their faction conquer the land. Each battle takes place in a Reddit post with a 20-slot battlefield (10 slots per faction). Players place cards from their collection, triggering immediate 1v1 combat with random opponents. When both sides are full, the battle resolves, and the winning faction moves closer to total victory.

### Core Gameplay Loop

1. **Collect Cards**: Use the gacha system with free daily pulls or spend coins to expand your collection
2. **Start or Join Battles**: Create new battles or join existing ones by placing your cards
3. **Watch Combat**: Each card placement triggers instant turn-based combat with detailed results
4. **Win Wars**: Help your faction reach +6 on the global slider to conquer the land
5. **Earn Rewards**: Gain XP, coins, and faction points to unlock stronger cards and climb leaderboards

---

## âœ¨ What Makes This Game Innovative?

### 1. **Reddit-Native Gameplay**

- Battles are actual Reddit posts that anyone can view and join
- Combat logs appear as comments in real-time for full transparency
- No external website neededâ€”everything happens on Reddit
- Seamless integration with Reddit's social features
- Spectators can watch battles unfold without needing to play

### 2. **Instant Asynchronous Combat**

- No waiting for turns or opponent responses
- Every card placement triggers immediate turn-based combat resolution
- Battles resolve automatically when full (10v10) or after 30 minutes
- Combat uses randomized damage with ability modifiers for unpredictability
- Turn-based mechanics with up to 100 rounds per combat
- Detailed combat logs show every attack, ability trigger, and outcome

### 3. **Shared Faction War System**

- All players in a subreddit contribute to a single, persistent war effort
- Global slider tracks faction progress from -6 (Black Victory) to +6 (White Victory)
- War victories reset the slider and reward all winning faction members with +100 coins
- Real-time war status visible on the main menu with animated visual slider
- Faction affiliation determined by your battle history
- Separate leaderboards for each faction showing top warriors

### 4. **Deep Strategic Card Abilities**

- 8 unique tactical abilities that interact with combat mechanics and map types
- Abilities like FirstStrike, Spartan, and SiegeMaster create meaningful strategic choices
- Map types (Plains, Forest, Mountains, Desert, City, Fortress, Swamp, Island) affect certain abilities
- Ability interactions create emergent gameplay and counter-play opportunities
- Pre-combat, during-combat, and post-combat ability phases
- Abilities can stack and combine for powerful effects

### 5. **Progressive Level-Gated System**

- Player level determines which cards can be obtained from gacha
- 5 card levels (1-5) with increasing power and rarity
- Gacha system with weighted distribution favoring lower levels (6-level weight formula)
- Encourages long-term progression and collection building
- Free pulls every 22 hours plus paid pulls with coins
- XP earned from every battle regardless of outcome

### 6. **Stylized Historical Parodies**

- 200 unique cards featuring creative parodies of famous historical figures
- Each card has unique stats, abilities, and flavor text
- Balanced distribution across both factions (100 White, 100 Black)
- Cards range from 500 to 5000+ soldiers based on level
- Collection screen shows all cards with owned/unowned status
- Detailed card information with ability descriptions

---

## ğŸ“– How to Play

### Getting Started

1. **Launch the Game**

   - Click on any Card & Conquer post in your subreddit
   - Press the "Tap to Start" button on the splash screen
   - Watch the loading screen with progress bar and animated messages
   - The game opens in full-screen mode with smooth animations

2. **First Time Setup (Welcome Screen)**

   - New players are greeted with a special **Welcome Screen**
   - Receive a **free 5-card starter pack** as a one-time gift
   - Click "ğŸ Claim Your Cards!" to open your gift
   - Cards are revealed one-by-one with celebration animations
   - Each card shows:
     - Full stats and abilities
     - Faction affiliation
     - Level and soldier count
     - Animated reveal with progress indicator
   - After viewing all 5 cards, you're taken to the main menu
   - Players also start with:
     - 100 starting coins
     - Level 1 player status
   - No manual registration requiredâ€”uses your Reddit account

3. **Main Menu Overview**
   - **War Status Card**:
     - Animated faction slider showing current war position (-6 to +6)
     - Visual representation with Black (purple) and White (amber) sides
     - Current leader display with battles until victory
     - Total wins for each faction
     - Last war victory information
   - **Start Battle**: Create a new battle with one of your cards
   - **Join Battle**: Browse and join active battles
   - **Gacha**: Pull new cards (free every 22 hours or 50 coins)
   - **Collection**: View all 200 cards with filter options
   - **Leaderboards**: See top 50 players for each faction

---

### Playing Your First Battle

#### Option A: Join an Existing Battle

1. **Browse Active Battles**

   - From the main menu, select **"Join Battle"**
   - View list of active battles with their locations and status
   - Each battle shows: Location name, map type, and slot counts

2. **Select a Battle**

   - Click on a battle to view details
   - See which slots are filled and which cards are already placed
   - Check the map type (affects SiegeMaster ability)

3. **Choose Your Card**

   - View your inventory filtered by faction
   - Select a card that matches an available faction slot
   - Consider: Soldier count, ability, and map type synergy
   - Click "Join Battle" to place your card

4. **Watch the Combat**

   - Your card is placed in the next available slot
   - If enemy cards are present, instant 1v1 combat triggers
   - Combat log appears as a Reddit comment showing:
     - Turn order determination
     - Abilities activated (e.g., "FirstStrike: Attacks first!")
     - Damage dealt each turn
     - Final soldier counts and survival status

5. **Battle Resolution**
   - Battles end when both factions fill all 10 slots OR after 30 minutes of inactivity
   - Winner determined by total surviving soldiers across all cards
   - Resolution posted as a comment with rewards distributed:
     - **Win**: 70 coins + 50 XP + 1 faction point
     - **Loss**: 20 coins + 50 XP
     - **Draw**: 35 coins + 50 XP
   - War slider moves Â±1 toward winning faction

#### Option B: Start Your Own Battle

1. **Access Battle Creation**

   - From the main menu, select **"Start Battle"**
   - View your entire card collection

2. **Select Your Leader Card**

   - Choose any card from your inventory
   - Preview shows:
     - Card stats and ability
     - Randomly generated battle location
     - Map type (Plains, Forest, Mountains, etc.)

3. **Create the Battle**

   - Click "Start Battle" to confirm
   - A new Reddit post is created with:
     - Title: "âš”ï¸ Battle in [Location] led by [Card Name]"
     - Your card placed in the first slot
     - 19 empty slots waiting for other players

4. **Share and Wait**
   - Other players can now join your battle
   - You'll receive notifications as combat occurs
   - Battle resolves when full or after 30 minutes

---

### Collecting New Cards

#### Using the Gacha System

1. **Access Gacha**

   - Select **"Gacha"** from the main menu
   - View your current coin balance displayed prominently at the top
   - See both free and paid pull options

2. **Free Pull (Recommended)**

   - Available once every 22 hours
   - Real-time countdown timer shows hours, minutes, and seconds remaining
   - Green highlight when available
   - Click "Pull Free Card" when ready
   - No cost, same card pool as paid pulls

3. **Paid Pull**

   - Costs 50 coins per pull
   - Available anytime you have enough coins
   - Shows "Insufficient coins" warning if you can't afford it
   - Click "Pull Card (50 ğŸª™)" to spend coins
   - Instant pull with no cooldown

4. **Card Reveal Animation**

   - Animated modal with bouncing entrance
   - Celebration confetti effect (ğŸ‰)
   - Displays: Name, parody reference, faction, level, soldiers, ability
   - Faction-colored border (amber for White, purple for Black)
   - Card automatically added to your collection
   - Click "Awesome!" to close and continue pulling

5. **Level Gating System**
   - You can only pull cards up to your current player level
   - Example: Level 3 player can pull Level 1, 2, and 3 cards
   - Lower level cards are more common (weighted system: Level 1 = 5x weight, Level 5 = 1x weight)
   - Level up by earning XP from battles (50 XP per battle)
   - Info section explains the gacha mechanics

#### Earning Coins

- **Battle Participation**:
  - Win: 70 coins
  - Loss: 20 coins
  - Draw: 35 coins
- **War Victory**: +100 coins when your faction wins the war (all participants)
- **Starting Bonus**: 100 coins for new players
- **Gacha Pulls**: Spend 50 coins per paid pull

---

### Understanding Combat Mechanics

#### Turn-Based Combat System

When your card is placed, it fights a random enemy card:

1. **Pre-Combat Phase**

   - SiegeMaster: +300 soldiers in City/Fortress battles
   - Spartan: +200 soldiers when fighting stronger opponent
   - Turn order determined (50/50 random or FirstStrike override)

2. **Combat Phase**

   - Cards alternate attacks until one reaches 0 soldiers
   - Each attack deals random damage (0 to max soldiers)
   - Precision: Ensures minimum 50% damage per attack
   - Combat continues for up to 100 turns (safety limit)

3. **Post-Combat Phase**
   - TacticalRetreat: 20% chance to survive with 1 soldier
   - LastStand: Deal 1 final damage when defeated
   - Results logged and posted as comment

#### Card Abilities Reference

| Ability             | Trigger       | Effect                                                   |
| ------------------- | ------------- | -------------------------------------------------------- |
| **FirstStrike**     | Pre-Combat    | 70% chance to attack first, overriding random turn order |
| **Reinforcements**  | Pre-Combat    | +100 max soldiers if NOT attacking first                 |
| **SiegeMaster**     | Pre-Combat    | +300 max soldiers in City or Fortress battles            |
| **Spartan**         | Pre-Combat    | +200 max soldiers when fighting stronger opponent        |
| **Precision**       | During Combat | Minimum damage is 50% of max soldiers per attack         |
| **TacticalRetreat** | Post-Combat   | 20% chance to survive defeat with 1 soldier              |
| **LastStand**       | Post-Combat   | Deal 1 final damage when defeated                        |

**Note**: Cards without abilities have higher base soldier counts to compensate.

---

### The Faction War System

#### Understanding the Global Slider

- **Range**: -6 (Black Victory) to +6 (White Victory)
- **Starting Position**: 0 (Neutral)
- **Movement**: Each battle win moves slider Â±1 toward winning faction
- **Draw**: No slider movement
- **Visual Display**: Main menu shows slider with faction colors

#### War Victory Conditions

When slider reaches Â±6:

1. **Victory Announcement**: Reddit post created celebrating the winning faction
2. **Rewards Distributed**: All players who fought for winning faction receive +100 coins
3. **Slider Reset**: Position returns to 0
4. **New War Begins**: Competition continues immediately
5. **History Recorded**: Last victory displayed on main menu

#### Faction Affiliation

- **Determination**: Based on your faction point totals (White vs Black)
- **Earning Points**: Win battles to earn 1 point for your faction
- **Neutral Status**: Equal points or no battles fought
- **Leaderboard Impact**: Separate leaderboards for each faction
- **Profile Display**: Shows your current affiliation

---

### Progression and Leveling

#### Experience Points (XP)

- **Earning XP**: 50 XP per battle (win, loss, or draw)
- **Level Thresholds**:
  - Level 1 â†’ 2: 100 XP
  - Level 2 â†’ 3: 250 XP
  - Level 3 â†’ 4: 450 XP
  - Level 4 â†’ 5: 700 XP
  - Level 5+: Progressive increases (+500 XP per level)
- **Benefits**: Higher levels unlock stronger cards in gacha
- **No Level Cap**: Continue leveling indefinitely

#### Leaderboards

1. **Access**: Select "Leaderboards" from main menu
2. **Faction Tabs**:
   - Switch between White and Black faction leaderboards
   - Shows player count for each faction
   - Faction-colored styling (amber/purple)
3. **Ranking Display**:
   - Top 50 players per faction
   - Medal icons for top 3 (ğŸ¥‡ğŸ¥ˆğŸ¥‰)
   - Rank number for positions 4+
   - Username with highlight for current player
   - Victory count with singular/plural text
   - Faction icon on each entry
4. **Current Player Highlight**:
   - Your entry has faction-colored border and glow
   - "YOU" badge next to your name
   - Stands out from other entries
5. **Staggered Animations**:
   - Entries fade in with 30ms delay between each
   - Smooth hover effects with scale transform
6. **Empty State**:
   - Trophy icon (ğŸ†) when no warriors yet
   - Encouragement to be the first to win
7. **Updates**: Real-time updates as battles resolve

---

### Viewing Your Collection

1. **Access Collection**

   - Select **"Collection"** from the main menu
   - View all 200 cards in the game with responsive grid layout
   - Smooth fade-in animations as you scroll

2. **Filter Options**

   - **All**: Shows entire catalog (200 cards)
   - **White**: Only White faction cards (100 cards)
   - **Black**: Only Black faction cards (100 cards)
   - Progress counter shows collected/total for each filter
   - Faction-colored borders on active filter tabs

3. **Card Display**

   - **Owned Cards**:
     - Full color with all details visible
     - Level stars (â˜…â˜…â˜…â˜…â˜…)
     - Soldier count with icon
     - Ability badge if applicable
     - Faction icon (âšª or âš«)
     - Hover effects with scale animation
   - **Unowned Cards**:
     - Greyed out silhouettes with 40% opacity
     - "???" placeholder name
     - Card back icon (ğŸ´)
     - Level stars still visible
     - Hover to see it's locked

4. **Card Details Modal**
   - Tap any card to view full details in modal overlay
   - **For Owned Cards**:
     - Full name and parody reference
     - Large faction icon
     - Complete stats (faction, soldiers, ability)
     - Ability description with detailed mechanics explanation
     - Flavor text description
   - **For Unowned Cards**:
     - Shows "???" for description
     - Lock icon (ğŸ”’) with "Card not yet collected" message
     - Still shows level and basic structure
   - Click outside or "Close" button to return to grid

---

### Battle Viewing (Spectator Mode)

- **Public Access**: Anyone can view battle posts without logging in
- **Battlefield Layout**: 20-slot grid (10 White top, 10 Black bottom)
- **Card Status**: Active cards show full stats, defeated cards greyed out
- **Combat History**: All combat logs visible as post comments
- **Resolution**: Final results posted as comment when battle ends
- **War Impact**: Shows how battle affected global slider

---

## ğŸ¯ Strategy Tips

1. **Balance Your Collection**: Collect cards from both factions to maximize battle opportunities
2. **Ability Synergy**: Cards with abilities have fewer soldiers but can turn the tide
3. **Map Awareness**: SiegeMaster cards dominate in City/Fortress battles
4. **Timing Matters**: Join battles early to maximize combat opportunities
5. **Level Up**: Higher levels unlock stronger cardsâ€”prioritize XP gain
6. **Faction Loyalty**: Consistent faction play improves leaderboard ranking

---

## ğŸ› ï¸ Technical Stack

- **[Devvit](https://developers.reddit.com/)**: Reddit's developer platform for native apps
- **[React](https://react.dev/)**: Frontend UI framework
- **[TypeScript](https://www.typescriptlang.org/)**: Type-safe development
- **[Vite](https://vite.dev/)**: Build tool and dev server
- **[Express](https://expressjs.com/)**: Backend API server
- **[Tailwind CSS](https://tailwindcss.com/)**: Utility-first styling
- **Redis**: Data persistence (via Devvit)

---

## ğŸš€ Development Commands

```bash
# Start development server with live Reddit integration
npm run dev

# Build for production
npm run build

# Deploy to Reddit
npm run deploy

# Publish for review
npm run launch

# Type check and lint
npm run check
```

---

## ğŸ“¦ Project Structure

```
src/
â”œâ”€â”€ client/          # React frontend (game UI)
â”‚   â”œâ”€â”€ components/  # Reusable UI components
â”‚   â”œâ”€â”€ screens/     # Game screens (menu, battle, gacha, etc.)
â”‚   â”œâ”€â”€ contexts/    # React contexts (routing)
â”‚   â””â”€â”€ hooks/       # Custom React hooks
â”œâ”€â”€ server/          # Express backend (game logic)
â”‚   â””â”€â”€ core/        # Game systems (combat, gacha, war, etc.)
â””â”€â”€ shared/          # Shared types and utilities
    â”œâ”€â”€ types/       # TypeScript interfaces
    â”œâ”€â”€ data/        # Static card catalog (200 cards)
    â””â”€â”€ utils/       # Shared utilities
```

---

## ğŸ¨ Game Features

### Implemented âœ…

- âœ… Complete card catalog (200 cards)
- âœ… Player progression system (XP, levels, coins)
- âœ… Inventory management
- âœ… Gacha system with level gating
- âœ… Battle creation and joining
- âœ… Combat resolution engine (8 abilities)
- âœ… Faction war system with global slider
- âœ… Leaderboards (faction-specific)
- âœ… Reddit post integration
- âœ… Loading screen with asset preloading
- âœ… Responsive layout system
- âœ… Client-side routing
- âœ… Welcome screen with free starter pack
- âœ… First-time user detection and onboarding

### Completed Features âœ…

- âœ… Welcome screen with animated card reveals for new players
- âœ… Main menu with live war status and faction slider
- âœ… Card collection screen with filtering and detail modals
- âœ… Gacha pull interface with free/paid options and card reveals
- âœ… Battle creation flow with card selection and preview
- âœ… Battle view screen with 20-slot grid visualization
- âœ… Battle list screen with active battle browsing
- âœ… Battle join flow with card selection modal
- âœ… Real-time combat log display
- âœ… Leaderboard display screens
- âœ… Responsive UI with mobile-first design
- âœ… Client-side routing system
- âœ… Loading screen with progress tracking
- âœ… First-time user detection and automatic onboarding

### In Development ğŸš§

- ğŸš§ Enhanced animations and visual polish
- ğŸš§ Player profile screen with detailed stats
- ğŸš§ Battle history tracking
- ğŸš§ Card trading/gifting system
- ğŸš§ Tournament mode

---

## ğŸ“„ License

See [LICENSE](LICENSE) file for details.

---

## ğŸ¤ Contributing

This is a Reddit Devvit application. For development setup:

1. Ensure Node.js 22+ is installed
2. Run `npm install`
3. Run `npm run dev` to start the development server
4. Follow the Devvit playtest URL to test on Reddit

For more information, visit the [Devvit Documentation](https://developers.reddit.com/).
